<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
         xmlns:s="library://ns.adobe.com/flex/spark">
    <s:layout>
        <s:FormLayout/>
    </s:layout>
    <fx:Declarations>
    </fx:Declarations>
    <fx:Script><![CDATA[
        import away3d.materials.MaterialBase;

        import awaybuilder.model.vo.MaterialItemVO;

        [Bindable]
        public var data:MaterialItemVO;

        private function name_changeHandler( event:Event ):void
        {
            var newValue:MaterialItemVO = new MaterialItemVO( data.item as MaterialBase );
            newValue.name = nameInput.text;
            dispatchEvent(new PropertyEditorEvent(PropertyEditorEvent.MATERIAL_NAME_CHANGE, newValue, true));
        }

        private function repeatBox_changeHandler( event:Event ):void
        {
            var newValue:MaterialItemVO = new MaterialItemVO( data.item as MaterialBase );
            newValue.repeat = repeatBox.selected;
            dispatchEvent(new PropertyEditorEvent(PropertyEditorEvent.MATERIAL_CHANGE, newValue, true));
        }

        ]]></fx:Script>
    <s:Form width="100%" height="100%" skinClass="awaybuilder.view.skins.PropertyFormSkin">
        <s:HGroup width="100%" verticalAlign="middle" paddingLeft="6" paddingRight="6" paddingTop="6" paddingBottom="6" height="31">
            <s:Label width="100%" text="Material Properties" fontWeight="bold"/>
        </s:HGroup>
        <s:FormItem label="Name" skinClass="awaybuilder.view.skins.PropertyFormItemSkin" width="100%">
            <s:TextInput id="nameInput" width="100%" text="{data.name}" change="name_changeHandler(event)"/>
        </s:FormItem>
        <s:FormItem label="Repeat" skinClass="awaybuilder.view.skins.PropertyFormItemSkin" width="100%">
            <s:CheckBox id="repeatBox" change="repeatBox_changeHandler(event)" selected="{data.repeat}"/>
        </s:FormItem>

    </s:Form>


</s:Group>
